[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def requestPayload = read('classpath:demo\/ticket_rest_controller\/data\/create-ticket-request.json')","result":{"duration":178982900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"def JsonModifier = Java.type('demo.ticket_rest_controller.util.JsonModifier')","result":{"duration":32428800,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["## * def expected = read('classpath:demo\/ticket_rest_controller\/data\/expected-ticket-response.json')"],"keyword":"*","line":6},{"name":"def subject = JsonModifier.generateRandomSubject()","result":{"duration":8862200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def email = 'dynamic.email@example.com'","result":{"duration":2120700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def visitorName = 'Hamid Khan-5'","result":{"duration":2012200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def modifiedJson = JsonModifier.updateField(requestPayload, 'ticket_subject', subject)","result":{"duration":79067900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def modifiedJson = JsonModifier.updateField(requestPayload, 'ticket_recipient_email', email)","result":{"duration":7569200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def modifiedJson = JsonModifier.updateField(requestPayload, 'ticket_recipient_name', visitorName)","result":{"duration":7019700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"url baseUrl","result":{"duration":1117800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"header Accept = '*\/*'","result":{"duration":1339700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"header Content-Type = 'application\/json'","result":{"duration":1207200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"header Authorization = globalAuthToken","result":{"duration":686200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"header User-Agent = 'REVECHAT-MOBILE-APP'","result":{"duration":982700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"header Cookie = 'JSESSIONID=YjA5OTQyNDMtMGJlMi00YmQ5LWE0OGYtNTcxNmY1YTllNjhh; revechatLocaleCookie=en'","result":{"duration":937800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18}]},{"start_timestamp":"2025-06-23T07:23:01.740Z","line":20,"name":"Create a new support ticket","description":"","id":"create-a-new-support-ticket","type":"scenario","keyword":"Scenario","steps":[{"name":"path '\/ticket'","result":{"duration":10609400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":21},{"name":"request requestPayload","result":{"duration":1922400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":22},{"name":"method post","result":{"duration":3830698900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":23,"doc_string":{"content_type":"","value":"13:23:02.934 request:\n1 > POST https:\/\/test-chat-022.revechat.com\/rest\/v1\/ticket\n1 > Accept: *\/*\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Authorization: eyJhbGciOiJIUzI1NiJ9.eyJhY2NvdW50SWQiOiI1NDg3OTg3Iiwic3ViIjoiYXV0aG9yaXphdGlvbiIsImV4cCI6MTc1MjU2NDkxNCwidXNlcklkIjo4NTY0MDc4LCJpYXQiOjE3NDk5NzI5MTR9.W_f9mRkq_8agu4tgVRt_pfhgV1g2wpTP88rUHYIHheo\n1 > User-Agent: REVECHAT-MOBILE-APP\n1 > Cookie: JSESSIONID=YjA5OTQyNDMtMGJlMi00YmQ5LWE0OGYtNTcxNmY1YTllNjhh; revechatLocaleCookie=en\n1 > Content-Length: 1453\n1 > Host: test-chat-022.revechat.com\n1 > Connection: Keep-Alive\n1 > Accept-Encoding: gzip,deflate\n{\"accountId\":\"5487987\",\"attachments\":[],\"confirmationEmailStatus\":\"TO_SEND\",\"creationSource\":\"MANUAL\",\"creatorId\":8564078,\"description\":\"\",\"hasNewMsg\":true,\"subject\":\"Test ticket 2\",\"tagIds\":[],\"ticketCreationType\":\"OUTBOUND\",\"visitorRecordId\":394810,\"vsVisitorId\":null,\"ticketPriorityId\":5,\"ticketStatusId\":1,\"dueDate\":null,\"timeZoneOffset\":-360,\"chatInfoId\":null,\"assigneeId\":null,\"formUUID\":\"c2790ef9-afb7-45a6-b467-d5c383f4160c\",\"fields\":[{\"key\":\"Recipient Name\",\"value\":\"Hamid Khan-5\",\"attribute\":\"ticket_recipient_name\",\"id\":\"809e7330-5975-4a42-bdd0-e52173a877b8\",\"valueLabel\":\"Hamid Khan-5\"},{\"key\":\"Recipient Email\",\"value\":\"dynamic.email@example.com\",\"attribute\":\"ticket_recipient_email\",\"id\":\"775a33ba-46dd-4fa4-97db-cf948f789dcf\",\"valueLabel\":\"dynamic.email@example.com\"},{\"key\":\"Select area where you are facing the problem\",\"value\":\"\",\"attribute\":\"problem_area\",\"id\":\"7617b061-8f44-51e2-41b0-04d009d51b3f\",\"valueLabel\":\"\"},{\"key\":\"Subject\",\"value\":\"Test ticket 71880\",\"attribute\":\"ticket_subject\",\"id\":\"f780bd4c-b3e1-455f-94f0-56e7d9016f74\",\"valueLabel\":\"Test ticket 71880\"},{\"key\":\"Description\",\"value\":\"<p>This is test ticket -2<\\\/p>\",\"attribute\":\"ticket_description\",\"id\":\"d824e5bc-40d6-486e-a34d-9c8537d071ff\",\"valueLabel\":\"This is test ticket -2\"},{\"key\":\"Upload a reference\",\"value\":\"\",\"attribute\":\"attached_reference\",\"id\":\"a061a98c-92bc-3c45-8b18-c4e7fee43c0a\",\"valueLabel\":\"\"}],\"visitorUUID\":\"0425d804-5d19-48ed-97c2-bbfc0a79be8f\"}\n\n13:23:06.432 response time in milliseconds: 3494\n1 < 200\n1 < Server: nginx\/1.20.1\n1 < Date: Mon, 23 Jun 2025 07:23:06 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < Set-Cookie: revechatLocaleCookie=en; Max-Age=31536000; Expires=Tue, 23-Jun-2026 07:23:04 GMT; Path=\/; SameSite=None\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Referrer-Policy: no-referrer\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Credentials: true\n1 < Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS\n1 < Access-Control-Allow-Headers: DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type\n{\"status\":\"success\",\"message\":\"created\",\"body\":{\"id\":\"685900d8b409065ef4a638c2\",\"accountId\":\"5487987\",\"chatInfoId\":null,\"description\":\"<p>This is test ticket -2<\/p>\",\"descriptionText\":\"This is test ticket -2\",\"isDeleted\":false,\"subject\":\"Test ticket 71880\",\"assigneeId\":null,\"statusId\":276,\"statusCategory\":\"OPEN\",\"isSpammed\":false,\"attachments\":[],\"confirmationEmailStatus\":\"TO_SEND\",\"creationSource\":\"MANUAL\",\"tagIds\":[],\"creatorId\":8564078,\"formId\":35,\"ticketUUID\":\"f440c136-4657-413c-ab29-aa4594666858\",\"ticketId\":\"86\",\"mailMsgId\":null,\"priorityId\":5,\"isOverDue\":false,\"dueDate\":null,\"statusGroupId\":44,\"visitorInfo\":{\"visitorId\":391051,\"visitorRecordId\":394810,\"visitorUUID\":\"0425d804-5d19-48ed-97c2-bbfc0a79be8f\",\"name\":\"Hamid Khan-5\",\"email\":\"dynamic.email@example.com\",\"phone\":null,\"visitorProfilePic\":null,\"ip\":null,\"platform\":null,\"browserName\":null,\"locationDto\":{\"countryCode\":\"-\",\"country\":\"-\",\"city\":\"-\",\"latitude\":\"0.0\",\"longitude\":\"0.0\",\"region\":\"-\"}},\"attributes\":{\"ticket_recipient_name\":{\"key\":null,\"value\":\"Hamid Khan-5\",\"attribute\":\"ticket_recipient_name\",\"type\":\"recipientName\",\"ratingScale\":null,\"ratingShape\":null,\"format\":null,\"valueLabel\":\"Hamid Khan-5\",\"id\":\"809e7330-5975-4a42-bdd0-e52173a877b8\"},\"attached_reference\":{\"key\":null,\"value\":\"\",\"attribute\":\"attached_reference\",\"type\":\"fileUpload\",\"ratingScale\":null,\"ratingShape\":null,\"format\":null,\"valueLabel\":\"\",\"id\":\"a061a98c-92bc-3c45-8b18-c4e7fee43c0a\"},\"ticket_subject\":{\"key\":null,\"value\":\"Test ticket 71880\",\"attribute\":\"ticket_subject\",\"type\":\"subject\",\"ratingScale\":null,\"ratingShape\":null,\"format\":null,\"valueLabel\":\"Test ticket 71880\",\"id\":\"f780bd4c-b3e1-455f-94f0-56e7d9016f74\"},\"problem_area\":{\"key\":null,\"value\":\"\",\"attribute\":\"problem_area\",\"type\":\"dropdown\",\"ratingScale\":null,\"ratingShape\":null,\"format\":null,\"valueLabel\":\"\",\"id\":\"7617b061-8f44-51e2-41b0-04d009d51b3f\"},\"ticket_recipient_email\":{\"key\":null,\"value\":\"dynamic.email@example.com\",\"attribute\":\"ticket_recipient_email\",\"type\":\"recipientEmail\",\"ratingScale\":null,\"ratingShape\":null,\"format\":null,\"valueLabel\":\"dynamic.email@example.com\",\"id\":\"775a33ba-46dd-4fa4-97db-cf948f789dcf\"},\"ticket_description\":{\"key\":null,\"value\":\"<p>This is test ticket -2<\/p>\",\"attribute\":\"ticket_description\",\"type\":\"description\",\"ratingScale\":null,\"ratingShape\":null,\"format\":null,\"valueLabel\":\"This is test ticket -2\",\"id\":\"d824e5bc-40d6-486e-a34d-9c8537d071ff\"}},\"submittedFields\":\"[{\\\"key\\\":\\\"Recipient Name\\\",\\\"value\\\":\\\"Hamid Khan-5\\\",\\\"attribute\\\":\\\"ticket_recipient_name\\\",\\\"id\\\":\\\"809e7330-5975-4a42-bdd0-e52173a877b8\\\",\\\"valueLabel\\\":\\\"Hamid Khan-5\\\"},{\\\"key\\\":\\\"Recipient Email\\\",\\\"value\\\":\\\"dynamic.email@example.com\\\",\\\"attribute\\\":\\\"ticket_recipient_email\\\",\\\"id\\\":\\\"775a33ba-46dd-4fa4-97db-cf948f789dcf\\\",\\\"valueLabel\\\":\\\"dynamic.email@example.com\\\"},{\\\"key\\\":\\\"Select area where you are facing the problem\\\",\\\"value\\\":\\\"\\\",\\\"attribute\\\":\\\"problem_area\\\",\\\"id\\\":\\\"7617b061-8f44-51e2-41b0-04d009d51b3f\\\",\\\"valueLabel\\\":\\\"\\\"},{\\\"key\\\":\\\"Subject\\\",\\\"value\\\":\\\"Test ticket 71880\\\",\\\"attribute\\\":\\\"ticket_subject\\\",\\\"id\\\":\\\"f780bd4c-b3e1-455f-94f0-56e7d9016f74\\\",\\\"valueLabel\\\":\\\"Test ticket 71880\\\"},{\\\"key\\\":\\\"Description\\\",\\\"value\\\":\\\"<p>This is test ticket -2<\/p>\\\",\\\"attribute\\\":\\\"ticket_description\\\",\\\"id\\\":\\\"d824e5bc-40d6-486e-a34d-9c8537d071ff\\\",\\\"valueLabel\\\":\\\"This is test ticket -2\\\"},{\\\"key\\\":\\\"Upload a reference\\\",\\\"value\\\":\\\"\\\",\\\"attribute\\\":\\\"attached_reference\\\",\\\"id\\\":\\\"a061a98c-92bc-3c45-8b18-c4e7fee43c0a\\\",\\\"valueLabel\\\":\\\"\\\"}]\",\"systemAttributes\":{\"{{ticket_due_date}}\":\"\",\"{{ticket_description}}\":\"<p>This is test ticket -2<\/p>\",\"{{ticket_last_updated}}\":\"23-Jun-25 07:23:06 AM\",\"{{ticket_status}}\":\"Open\",\"{{ticket_recipient_email}}\":\"dynamic.email@example.com\",\"{{ticket_subject}}\":\"Test ticket 71880\",\"{{ticket_source}}\":\"MANUAL\",\"{{ticket_type}}\":\"OUTBOUND\",\"{{ticket_recipient_name}}\":\"Hamid Khan-5\",\"{{ticket_visitor_status}}\":\"Open visitor \",\"{{ticket_creation_date}}\":\"23-Jun-25 07:23:04 AM\",\"{{ticket_priority}}\":\"MEDIUM\",\"{{ticket_id}}\":\"86\",\"{{database_id}}\":\"TICKET_ID=f440c136-4657-413c-ab29-aa4594666858#\",\"{{ticket_status_group}}\":\"Nazmul \",\"{{ticket_channel}}\":\"test2@inbound-staging.revechat.com\"},\"customAttributes\":{\"{{problem_area}}\":\"\",\"{{attached_reference}}\":\"\"},\"messageInfo\":{\"lastOpenTime\":1750663384350},\"resolvedBy\":null,\"created\":1750663384350,\"updated\":1750663384350,\"submitTimestamp\":1750663384324,\"inReplyTo\":null,\"reference\":null,\"ticketCreationType\":\"OUTBOUND\",\"threadId\":null,\"hasNewMsg\":null,\"emailChannel\":\"test2@inbound-staging.revechat.com\",\"firstResponseTimestamp\":0,\"reOpened\":false,\"assigneeChanged\":false,\"resolutionTime\":0,\"totalResponseTime\":0,\"totalPairCount\":0,\"totalHandlingTime\":0,\"initialResponseTime\":0,\"serialNo\":0}}\n\n","line":23}},{"name":"status 200","result":{"duration":37800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":24},{"name":"def responseBody = response.body","result":{"duration":3600100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"match responseBody.accountId == \"5487987\"","result":{"duration":2089800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26},{"name":"match responseBody.subject == subject","result":{"duration":1137800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27},{"name":"match responseBody.visitorInfo.email == email","result":{"duration":12762300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":28},{"name":"match responseBody.visitorInfo.name == visitorName","result":{"duration":2498900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":29}],"tags":[]}],"name":"demo\/ticket_rest_controller\/CreateTicket.feature","description":"Create Ticket via REVE Chat API","id":"create-ticket-via-reve-chat-api","keyword":"Feature","uri":"demo\/ticket_rest_controller\/CreateTicket.feature"}]